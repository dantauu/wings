const modernAircraftData = [
	{
		id: 1,
		name: 'Су-27',
		image: 'images/su-27.png',
		description:
			'Су-27 (по кодификации НАТО: Flanker-B) — советский/российский многоцелевой истребитель. Разработан в ОКБ Сухого. Принят на вооружение в 1985 году. Су-27 является одним из основных самолётов ВКС России, модификации стоят на вооружении в странах СНГ, Индии, Китае.',
	},
	{
		id: 2,
		name: 'МиГ-29',
		image: 'images/mig-29.png',
		description:
			'МиГ-29 (по кодификации НАТО: Fulcrum) — советский/российский многоцелевой истребитель четвёртого поколения. Разработан в ОКБ МиГ. МиГ-29 предназначен для уничтожения воздушных целей противника днём и ночью, в простых и сложных метеоусловиях.',
	},
	{
		id: 3,
		name: 'Ту-160',
		image: 'images/tu-160.png',
		description:
			'Ту-160 (по кодификации НАТО: Blackjack) — сверхзвуковой стратегический бомбардировщик-ракетоносец с изменяемой геометрией крыла. Самый крупный и самый мощный в истории военной авиации сверхзвуковой самолёт и самый тяжёлый боевой самолёт в мире.',
	},
	{
		id: 4,
		name: 'Ил-76',
		image: 'images/il-76.png',
		description:
			'Ил-76 — советский/российский тяжёлый военно-транспортный самолёт. Разработан в КБ Ильюшина. Предназначен для транспортировки и десантирования личного состава, техники и грузов различного назначения.',
	},
	{
		id: 5,
		name: 'Су-57',
		image: 'images/su-57.png',
		description:
			'Су-57 (ранее известный как ПАК ФА, Т-50) — российский многофункциональный истребитель пятого поколения. Разработан в ОКБ Сухого. Су-57 оснащён принципиально новым комплексом глубоко интегрированной авионики и обладает сниженной заметностью.',
	},
	{
		id: 6,
		name: 'Ан-124',
		image: 'images/an-124.png',
		description:
			'Ан-124 «Руслан» — тяжёлый транспортный самолёт. Разработан в АНТК им. О. К. Антонова. На момент создания Ан-124 был самым грузоподъёмным серийным транспортным самолётом в мире.',
	},
	{
		id: 7,
		name: 'Ту-22М',
		image: 'images/tu-22m.png',
		description:
			'Ту-22М (по кодификации НАТО: Backfire) — советский/российский дальний сверхзвуковой ракетоносец-бомбардировщик с изменяемой геометрией крыла. Предназначен для поражения морских и наземных целей противника с больших, малых и предельно малых высот.',
	},
	{
		id: 8,
		name: 'Як-130',
		image: 'images/yak-130.png',
		description:
			'Як-130 — учебно-боевой самолёт, разработанный ОКБ имени Яковлева. Предназначен для обучения курсантов лётных училищ и боевого применения в локальных конфликтах.',
	},
	{
		id: 9,
		name: 'МиГ-31',
		image: 'images/mig-31.png',
		description:
			'МиГ-31 (по кодификации НАТО: Foxhound) — советский/российский двухместный сверхзвуковой всепогодный истребитель-перехватчик дальнего радиуса действия. Предназначен для перехвата и уничтожения воздушных целей на предельно малых, малых, средних и больших высотах.',
	},
	{
		id: 10,
		name: 'Су-35',
		image: 'images/su-35.png',
		description:
			'Су-35 — российский многоцелевой сверхманёвренный истребитель поколения 4++. Глубоко модернизированный вариант Су-27. Отличается усовершенствованной авионикой и новыми двигателями с управляемым вектором тяги.',
	},
]

const wwiiAircraftData = [
	{
		id: 1,
		name: 'И-16',
		image: 'images/i-16.png',
		description: `Истребитель И-16 был разработан в начале 1930-х годов конструкторской группой ЦКБ-39 под руководством Николая Поликарпова. Первый полёт состоялся в 1933 году, пилотируемый Валерием Чкаловым. И-16 стал первым советским истребителем с убирающимися шасси и бронеспинкой. Он отличался высокой маневренностью, но был сложен в управлении из-за задней центровки и малых размеров, что требовало от пилотов большого мастерства.
			Участие в Великой Отечественной войне: К 1941 году И-16 устарел и уступал немецким "мессершмиттам" в скорости, но сохранял преимущество в маневренности. Несмотря на это, советские лётчики демонстрировали героизм.
			В первый день войны Иван Авеков сбил два немецких истребителя.
			В августе 1941 года Виктор Талалихин совершил первый ночной таран на И-16.
			Лётчики Пётр Харитонов, Михаил Жуков и Степан Здоровцев стали первыми Героями Советского Союза в ВОВ, сражаясь на И-16.`,
	},
	{
		id: 2,
		name: 'Ил-2',
		image: 'images/il-2.png',
		description: `Ил-2, разработанный Сергеем Ильюшиным в середине 1930-х годов, задумывался как "летающий танк" для поддержки сухопутных войск. Его конструкция была революционной: броня являлась несущей частью планера, что обеспечивало защиту пилота и критических узлов самолёта. Первые модели были одноместными, но высокие потери от вражеских истребителей вынудили перейти на двухместный вариант с борт-стрелком.
		Участие в Великой Отечественной войне:Ил-2 стал самым массовым боевым самолётом ВОВ (выпущено 36 163 единицы). Однако первые годы войны выявили серьёзные недостатки:
		Неэффективность против бронетехники из-за слабого вооружения.
		Высокие потери (23,6 тыс. самолётов за войну), вызванные отсутствием истребительного прикрытия и недостаточной подготовкой пилотов.
		Перелом наступил с введением ПТАБ, позволивших уничтожать до 6-8 танков за заход. Немцы были вынуждены менять тактику, избегая открытого перемещения техники.`,
	},
	{
		id: 3,
		name: 'Як-1 ',
		image: 'images/yak-1.png',
		description: `В конце 1930-х годов СССР активно разрабатывал новые истребители, чтобы конкурировать с немецкими самолётами, такими как Me-109. В 1940 году на свет появился Як-1, созданный под руководством Александра Яковлева. Самолёт был оснащён двигателем М-105 с жидкостным охлаждением, что обеспечивало ему хорошие лётные характеристики. Однако изначально Як-1 был "сырым" — в его конструкцию внесли тысячи изменений уже в первые месяцы производства.
		Участие в Великой Отечественной войне: С началом войны в 1941 году Як-1 столкнулся с проверенными немецкими Me-109. Несмотря на недостатки, советские лётчики ценой огромных усилий использовали его потенциал. КБ Яковлева непрерывно улучшало самолёт, но из-за нехватки мощных двигателей модернизация шла за счёт облегчения конструкции. Например, в 1943 году с Як-1 сняли часть вооружения и оборудования, чтобы повысить скорость и манёвренность.`,
	},
	{
		id: 4,
		name: 'МиГ-3',
		image: 'images/mig-3.png',
		description: `Самолёт МиГ-3 был разработан конструкторским бюро Микояна и Гуревича как улучшенная модификация истребителя И-200. Решение о его создании было принято в октябре 1940 года, когда постановление СНК требовало увеличить дальность полёта истребителей. Основные изменения включали установку дополнительного топливного бака, модификацию двигателя АМ-35А, увеличение поперечного V крыла для улучшения устойчивости и другие доработки. Официальное название "МиГ-3" было присвоено 9 декабря 1940 года.  Всего за 1940–1942 годы построено 3172 самолёта.
		Участие в Великой Отечественной войне: МиГ-3 поступил на вооружение перед началом Великой Отечественной войны. Его основные преимущества:
		Высокая скорость (до 640 км/ч на высоте 7800 м).
		Хорошая скороподъёмность.
		Способность эффективно действовать на больших высотах.
		Хорошая скороподъёмность.
	Способность эффективно действовать на больших высотах.`,
	},
	{
		id: 5,
		name: 'Пе-2',
		image: 'images/pe-2.png',
		description: `Самолёт Пе-2, разработанный под руководством Владимира Михайловича Петлякова, стал самым массовым советским бомбардировщиком времён Великой Отечественной войны. Работы над ним начались в 1938 году в ЦКБ-29, где трудились заключённые конструкторы, включая самого Петлякова. Изначально проект предполагал создание высотного истребителя ВИ-100, но в 1940 году его переделали в пикирующий бомбардировщик ПБ-100 (позже переименованный в Пе-2). Первый полёт состоялся в 1940 году, а уже к началу войны было выпущено 458 самолётов.
		Участие в Великой Отечественной войне: Пе-2 активно использовался на всех фронтах с первых дней войны. Несмотря на сложность в освоении и недостаточную подготовку лётчиков, самолёт быстро доказал свою эффективность. Он применялся для ударов по мостам, аэродромам, танковым колоннам и другим стратегическим целям. Например, уже 22 июня 1941 года Пе-2 разбомбили мост через реку Прут.
		В ходе войны самолёт постоянно модернизировался: усиливалось вооружение, улучшалась аэродинамика, увеличивалась бронезащита. К 1943 году Пе-2 стал основным бомбардировщиком советских ВВС. Он сыграл ключевую роль в битвах под Москвой, Сталинградом, на Курской дуге и при штурме Берлина. Всего за годы войны было выпущено 11 247 самолётов Пе-2.`,
	},
	{
		id: 6,
		name: 'ЛаГГ-3',
		image: 'images/lag-3.png',
		description: `Самолёт ЛаГГ-3 был разработан в СССР в конце 1930-х годов конструкторами Горбуновым, Гудковым и Лавочкиным (отсюда аббревиатура ЛаГГ). Проектирование началось в 1939 году по заданию НКАП на истребитель общего назначения. Прототип И-301, впоследствии переименованный в ЛаГГ-1, а затем в ЛаГГ-3, был цельнодеревянным низкопланом с использованием дельта-древесины — инновационного для того времени композитного материала. Первый полёт состоялся 28 марта 1940 года.
		Участие в Великой Отечественной войне: ЛаГГ-3 поступил на вооружение в 1941 году. Несмотря на недостатки (например, слабый двигатель и высокую посадочную скорость), самолёт показал себя живучим и эффективным в боях. Он использовался:
		В обороне Москвы в 1941 году.
		В воздушных боях против немецких и финских самолётов.
		В войне с Японией в 1945 году.`,
	},
	{
		id: 7,
		name: 'Як-9',
		image: 'images/yak-9.png',
		description: `Як-9 стал третьим основным истребителем семейства "Як" после Як-1 и Як-7. Разработанный на основе Як-7, он воплотил в себе опыт двух лет войны и использование дюралюминия, что позволило снизить массу конструкции и улучшить характеристики. Серийное производство началось в октябре 1942 года, а всего было выпущено 16 769 самолётов.
		Участие в Великой Отечественной войне: Впервые Як-9 вступил в бой в декабре 1942 года под Сталинградом. Он активно участвовал в ключевых операциях, таких как Курская битва, где, несмотря на некоторые технические проблемы (например, отрыв обшивки крыла), показал высокую эффективность. К 1944 году Як-9 стал самым массовым истребителем СССР, заменяя устаревшие Як-1 и Як-7.`,
	},
	{
		id: 8,
		name: 'Ла-5 ',
		image: 'images/la-5.png',
		description: `Самолёт Ла-5 был разработан в начале 1942 года как модификация истребителя ЛаГГ-3, оснащённая новым звездообразным двигателем М-82 мощностью 1650 л.с. 
		Главной проблемой при создании Ла-5 стала необходимость переделки конструкции самолёта под более крупный двигатель. Конструкторы успешно решили эту задачу, сохранив деревянную конструкцию планера и улучшив аэродинамику. Первый прототип ЛаГГ-3 с двигателем М-82 поднялся в воздух в марте 1942 года и был запущен в серийное производство под обозначением Ла-5.
		Участие в Великой Отечественной войне:
		Ла-5 поступил на фронт осенью 1942 года и сразу показал себя как эффективный истребитель. Его основные преимущества:
		Высокая скорость (до 600 км/ч на высоте).
		Хорошая маневренность, особенно на виражах.
		Надёжная защита лётчика и двигателя благодаря звездообразной конструкции мотора.
		Самолёт успешно противостоял немецким истребителям Me-109 и FW-190, особенно на малых и средних высотах. Лётчики отмечали его живучесть и мощное вооружение (две пушки ШВАК).`,
	},
	{
		id: 9,
		name: 'Ту-2 ',
		image: 'images/tu-2.png',
		description: `Самолёт Ту-2, первоначально обозначавшийся как "103", был разработан под руководством авиаконструктора Андрея Николаевича Туполева в конце 1930-х — начале 1940-х годов. Проектирование велось в условиях репрессий, когда многие инженеры, включая самого Туполева, были арестованы. Несмотря на это  Туполев возглавлял конструкторское бюро.
		Первые прототипы самолёта, оснащённые двигателями АМ-37, показали высокие лётные характеристики. Однако  в серию пошла модификация с моторами М-82 (позже АШ-82) воздушного охлаждения, разработанными под руководством А.Д. Швецова. Эти двигатели были более доступными и надёжными, что сделало их идеальным выбором для массового производства.
		Участие в Великой Отечественной войне:
		Ту-2 поступил на вооружение в 1942 году и быстро зарекомендовал себя как один из лучших фронтовых бомбардировщиков СССР. Его основные преимущества:
		Высокая скорость и манёвренность, позволявшие уходить от вражеских истребителей.
		Мощное вооружение: до 3 тонн бомбовой нагрузки, две пушки ШВАК и несколько пулемётов ШКАС или Березина.
		Дальность полёта до 2000 км, что делало его эффективным для глубоких рейдов.
		Самолёт использовался для нанесения ударов по вражеским тылам, железнодорожным узлам, аэродромам и скоплениям войск. Особенно отличился в боях под Сталинградом, на Курской дуге и во время освобождения Белоруссии.`,
	},
	{
		id: 10,
		name: 'Ил-10',
		image: 'images/il-10.png',
		description: `Самолёт Ил-10 был разработан в ОКБ С.В. Ильюшина как дальнейшее развитие знаменитого штурмовика Ил-2. Работы над новой машиной начались в 1943 году, а первый прототип под названием Ил-1 (двухместный вариант) был построен в начале 1944 года. После успешных испытаний, в августе 1944 года, Ил-10 был принят на вооружение и запущен в серийное производство на заводах №1 и №18.
		Участие в Великой Отечественной войне: Первые серийные Ил-10 начали поступать в войска осенью 1944 года. Первым полком, получившим эти самолёты, стал 108-й гвардейский штурмовой авиаполк. Боевое крещение Ил-10 состоялось в апреле 1945 года на Берлинском направлении. За 15 дней боёв полк совершил 450 вылетов, уничтожив технику и живую силу противника.`,
	},
]

let currentAircraftData = modernAircraftData

// Создание кнопок категорий
function createCategoryButtons() {
	const navContainer = document.getElementById('aircraft-nav')
	const categoryButtons = document.createElement('div')
	categoryButtons.className = 'category-buttons'

	categoryButtons.innerHTML = `
		<div class="category-buttons__wrapper">
		<div class="form-link__wrapper">
			<div class="form-link__wrapper-inner">
        <button class="category-btn active" data-category="modern">Современные самолёты</button>
        <button class="category-btn" data-category="wwii">Самолеты ВОВ</button>
			</div>
        <a href="https://forms.yandex.ru/u/68151cc5e010db97a4d1133d/" target="_blank" class="form-link">
            <button class="category-btn form-btn">Начать тест</button>
        </a>
		</div>
		</div>
    `

	navContainer.prepend(categoryButtons)

	// Обработчики кликов по кнопкам категорий
	document.querySelectorAll('.category-btn:not(.form-btn)').forEach(btn => {
		btn.addEventListener('click', () => {
			// Удаляем активный класс у всех кнопок категорий
			document
				.querySelectorAll('.category-btn:not(.form-btn)')
				.forEach(b => b.classList.remove('active'))
			// Добавляем активный класс нажатой кнопке
			btn.classList.add('active')

			// Меняем данные в зависимости от категории
			currentAircraftData =
				btn.dataset.category === 'modern'
					? modernAircraftData
					: wwiiAircraftData

			// Очищаем контейнер с карточками
			const cardsContainer = document.querySelector('.aircraft-cards')
			if (cardsContainer) {
				cardsContainer.remove()
			}

			// Создаем новые карточки
			createAircraftCards()
		})
	})
}

// Создание карточек самолетов
function createAircraftCards() {
	const navContainer = document.getElementById('aircraft-nav')
	const cardsContainer = document.createElement('div')
	cardsContainer.className = 'aircraft-cards'

	currentAircraftData.forEach(aircraft => {
		const aircraftCard = document.createElement('div')
		aircraftCard.className = 'aircraft-card'
		aircraftCard.setAttribute('data-id', aircraft.id)

		aircraftCard.innerHTML = `
            <img src="${aircraft.image}" class="airplane-image" alt="${aircraft.name}">
            <h3>${aircraft.name}</h3>
        `

		aircraftCard.addEventListener('click', () =>
			showAircraftDetail(aircraft.id)
		)
		cardsContainer.appendChild(aircraftCard)
	})

	navContainer.appendChild(cardsContainer)
}

// Отображение детальной информации о самолете
function showAircraftDetail(aircraftId) {
	const aircraft = currentAircraftData.find(a => a.id === aircraftId)
	if (!aircraft) return

	const contentContainer = document.getElementById('aircraft-content')

	// Создаем новое содержимое
	const detailContent = document.createElement('div')
	detailContent.className = 'aircraft-detail animate__animated animate__fadeIn'

	detailContent.innerHTML = `
        <h2>${aircraft.name}</h2>
        <div class="aircraft-image">
            <img src="${aircraft.image}" alt="${aircraft.name}" class="animate__animated animate__zoomIn">
        </div>
        <div class="aircraft-description animate__animated animate__fadeInUp">
            <p class="aircraft-description-text">${aircraft.description}</p>
        </div>
    `

	// Анимация исчезновения текущего содержимого
	contentContainer.classList.add('animate__animated', 'animate__fadeOut')

	setTimeout(() => {
		// Очищаем контейнер и добавляем новое содержимое
		contentContainer.innerHTML = ''
		contentContainer.classList.remove('animate__animated', 'animate__fadeOut')
		contentContainer.appendChild(detailContent)

		// Выделяем выбранный самолет в меню
		document.querySelectorAll('.aircraft-card').forEach(card => {
			if (parseInt(card.getAttribute('data-id')) === aircraftId) {
				card.classList.add('selected')
			} else {
				card.classList.remove('selected')
			}
		})
	}, 300)
}

// Инициализация после загрузки страницы
document.addEventListener('DOMContentLoaded', () => {
	createCategoryButtons()
	createAircraftCards()
})
